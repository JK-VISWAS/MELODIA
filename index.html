<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Melodia Club – Registration Confirmation</title>

  <!-- Fonts & Animation -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <style>
    :root {
      --primary: #6B11E0;
      --accent: #00D4FF;
      --gold: #FBBF24;
      --dark-bg: #12121e;
      --text: #e2e8f0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0f0727 0%, #1a0b3b 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow: hidden;
    }

    /* Floating Particles */
    .bg-particles {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 0;
    }
    .particle {
      position: absolute;
      background: rgba(0, 212, 255, 0.15);
      border-radius: 50%;
      animation: float 8s infinite ease-in-out;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
      50% { transform: translateY(-30px) rotate(180deg); opacity: 0.7; }
    }

    /* Card */
    .card {
      position: relative;
      z-index: 1;
      background: var(--dark-bg);
      max-width: 480px;
      width: 100%;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      border: 1px solid rgba(107, 17, 224, 0.3);
      overflow: hidden;
      animation: cardAppear 0.9s ease-out forwards;
    }
    @keyframes cardAppear {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      padding: 40px 24px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .header::before {
      content: '';
      position: absolute;
      top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.25) 0%, transparent 70%);
      animation: pulse 5s infinite;
    }
    @keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.3)} }
    .header h1 {
      font-size: 2.4rem;
      font-weight: 700;
      text-shadow: 0 4px 10px rgba(0,0,0,0.3);
      position: relative;
      z-index: 1;
    }
    .header p {
      font-size: 1.1rem;
      opacity: 0.95;
      margin-top: 8px;
      position: relative;
      z-index: 1;
    }

    .body { padding: 36px 28px; }

    /* Spots Badge */
    .spots {
      background: linear-gradient(135deg, #78350f, var(--gold));
      color: white;
      font-weight: 700;
      padding: 10px 20px;
      border-radius: 50px;
      display: inline-block;
      font-size: 0.95rem;
      margin-bottom: 28px;
      box-shadow: 0 4px 15px rgba(251,191,36,0.4);
      animation: bounce 2s infinite;
    }
    .spots.soldout {
      background: #dc2626;
      animation: none;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    /* Terms */
    .terms {
      background: rgba(30,27,46,0.6);
      border-left: 5px solid var(--accent);
      padding: 20px;
      border-radius: 14px;
      margin-bottom: 32px;
      color: var(--text);
      backdrop-filter: blur(10px);
      line-height: 1.7;
    }
    .terms strong {
      display: block;
      margin-bottom: 12px;
      color: var(--gold);
      font-size: 1.1rem;
      font-weight: 600;
    }

    /* Checkbox */
    .checkbox {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      margin-bottom: 36px;
      color: var(--text);
      cursor: pointer;
      font-size: 1rem;
    }
    .checkbox input[type="checkbox"] {
      accent-color: var(--accent);
      transform: scale(1.3);
      margin-top: 3px;
    }

    /* Button */
    .btn {
      background: #334155;
      color: #64748b;
      border: none;
      width: 100%;
      padding: 18px;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: 14px;
      cursor: not-allowed;
      transition: all 0.4s ease;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .btn.enabled {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      cursor: pointer;
      box-shadow: 0 8px 30px rgba(107,17,224,0.5);
    }
    .btn.enabled:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,212,255,0.4);
    }
    .btn.soldout {
      background: #dc2626;
      cursor: not-allowed;
    }

    .footer {
      text-align: center;
      color: #94a3b8;
      font-size: 0.9rem;
      margin-top: 32px;
    }

    @media (max-width: 480px) {
      .header h1 { font-size: 2rem; }
      .body { padding: 28px 20px; }
    }
  </style>
</head>
<body>

  <div class="bg-particles" id="particles"></div>

  <div class="card" data-aos="fade-up" data-aos-duration="900">
    <div class="header">
      <h1>Melodia Club</h1>
      <p>Exclusive Music Club – November 2025</p>
    </div>

    <div class="body">
      <div class="spots" id="spotsBadge">
        Only <strong id="count">16</strong> slots left – Register now!
      </div>

      <div class="terms">
        <strong>Terms & Conditions</strong>
        • I confirm I will attend the event<br>
        • Arrive 30 minutes early<br>
        • Follow all club rules<br>
        • No changes after registration
      </div>

      <label class="checkbox">
        <input type="checkbox" id="agree" onchange="toggleBtn()">
        <span>I accept all Terms & Conditions</span>
      </label>

      <button id="proceedBtn" class="btn" onclick="goToForm()" disabled>
        Proceed to Register
      </button>
    </div>

    <div class="footer">© 2025 Melodia Club – All Rights Reserved</div>
  </div>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ once: true });

    // CHANGE THESE 2 LINES ONLY
    const SHEET_ID = "1t-NVorYsmjMfwAiNAkPxC5VaC8-rVIb0TIN7ulwK6aykuMjwS9pJLro7"; // Your Sheet ID
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbw1Ck9vf981UWBr93xuv4uCz4QVUAUlLBD8bWGMkE3vYKbOYv50e2L3myaEjURn2acrog/exec"; // From Apps Script

    const TOTAL_SLOTS = 16;
    const FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSdCbhLJXx3gcqn1jfJ8NwDjYR-YEc34odxLuG2RjsE1iO5hjA/viewform";

    // Live Counter Update
    function updateSlots() {
      fetch(`${WEB_APP_URL}?id=${SHEET_ID}`)
        .then(response => response.json())
        .then(data => {
          let remaining = TOTAL_SLOTS - data.submissions;
          if (remaining < 0) remaining = 0;

          document.getElementById("count").textContent = remaining;
          const badge = document.getElementById("spotsBadge");
          const btn = document.getElementById("proceedBtn");

          if (remaining === 0) {
            badge.innerHTML = "registration Closed";
            badge.classList.add("registration-closed");
